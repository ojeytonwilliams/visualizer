---
import Layout from '../layouts/Layout.astro';
import Visualizer from '../components/Visualizer';

// Use this to play with mock data
// import dependencyMap from '../../mock-map-data/dependency-map.json';

// Hardcoded fetch/
const { dependencyMap } = await fetch('http://localhost:3001/dependency-map', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  // Change this to point to the folder you want to visualize
  body: JSON.stringify({ folderPath: '../../../freeCodeCamp/api/' }),
}).then(res => res.json());
---

<Layout>
  <Visualizer client:load dependencyMap={dependencyMap} />
</Layout>
